{"version":3,"file":"SkipLinks.js","sourceRoot":"","sources":["../../src/SkipLinks.ts"],"names":[],"mappings":";AAAA,OAAO,EAAE,IAAI,EAAE,UAAU,EAAE,MAAM,KAAK,CAAC;AACvC,OAAO,EAAE,QAAQ,EAAE,MAAM,mBAAmB,CAAC;AAC7C,OAAO,EAAE,eAAe,EAAE,MAAM,wBAAwB,CAAC;AAGzD,MAAM,OAAO,SAAU,SAAQ,UAAU;IAAzC;;QAGU,iCAA4B,GAAG,kBAAkB,CAAC;QAEQ,aAAQ,GAAY,KAAK,CAAC;QACjE,aAAQ,GAAa,EAAE,CAAC;IAqDrD,CAAC;IAnDC,iBAAiB;QACf,KAAK,CAAC,iBAAiB,EAAE,CAAA;QACzB,IAAI,QAAQ,CAAC,UAAU,KAAK,UAAU,IAAI,CAAC,QAAQ,CAAC,UAAU,KAAK,SAAS,CAAC,EAAE;YAC7E,IAAI,CAAC,KAAK,EAAE,CAAC;SACd;aAAM;YACL,QAAQ,CAAC,gBAAgB,CAAC,kBAAkB,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC;SAC3D;IACH,CAAC;IAED,KAAK;QACH,MAAM,eAAe,GAAG,QAAQ,CAAC,gBAAgB,CAAC,IAAI,IAAI,CAAC,4BAA4B,GAAG,CAA4B,CAAC;QACvH,eAAe,CAAC,OAAO,CAAC,CAAC,cAAc,EAAE,EAAE;YACzC,MAAM,QAAQ,GAAG,cAAc,CAAC,EAAE,IAAI,IAAI,CAAC;YAC3C,MAAM,WAAW,GAAG,cAAc,CAAC,YAAY,CAAC,IAAI,CAAC,4BAA4B,CAAC,IAAI,IAAI,CAAC;YAE3F,IAAI,CAAC,QAAQ,IAAI,CAAC,WAAW,EAAE;gBAC7B,OAAO,CAAC,KAAK,CAAC,2FAA2F,CAAC,CAAC;gBAC3G,OAAO;aACR;iBAAM;gBACL,MAAM,SAAS,GAAW;oBACxB,OAAO,EAAE,cAAc;oBACvB,EAAE,EAAE,QAAQ;oBACZ,KAAK,EAAE,WAAW;iBACnB,CAAA;gBACD,IAAI,CAAC,QAAQ,CAAC,IAAI,CAAC,SAAS,CAAC,CAAC;aAC/B;QACH,CAAC,CAAC,CAAA;QAEF,IAAI,CAAC,YAAY,CAAC,MAAM,EAAE,YAAY,CAAC,CAAC;QACxC,IAAI,CAAC,QAAQ,GAAG,CAAC,IAAI,CAAC,QAAQ,IAAI,CAAC,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC;IAC1D,CAAC;IAED,MAAM;QACJ,IAAI,IAAI,CAAC,QAAQ,CAAC,MAAM,GAAG,CAAC,EAAE;YAC5B,OAAO,IAAI,CAAA;;YAEL,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,CAAC,MAAM,EAAE,EAAE;gBAC7B,OAAO,IAAI,CAAA;;4BAEK,MAAM,CAAC,EAAE,aAAa,IAAI,CAAC,gBAAgB,KAAK,MAAM,CAAC,KAAK;;aAE3E,CAAA;YACH,CAAC,CAAC;;OAEL,CAAA;SACF;IACH,CAAC;IAED,gBAAgB,CAAC,KAAmB;QAClC,OAAO,CAAC,GAAG,CAAC,YAAY,EAAE,KAAK,CAAC,CAAC;IACnC,CAAC;;AAzDM,gBAAM,GAAG,CAAE,eAAe,CAAE,CAAC;AAI8B;IAAjE,QAAQ,CAAC,EAAE,IAAI,EAAE,OAAO,EAAE,OAAO,EAAE,IAAI,EAAE,SAAS,EAAE,SAAS,EAAE,CAAC;2CAA2B;AACjE;IAA1B,QAAQ,CAAC,EAAE,IAAI,EAAE,KAAK,EAAE,CAAC;2CAAyB","sourcesContent":["import { html, LitElement } from 'lit';\nimport { property } from 'lit/decorators.js';\nimport { skipLinksStyles } from './skip-links.styles.js';\nimport { Target } from './types.js';\n\nexport class SkipLinks extends LitElement {\n  static styles = [ skipLinksStyles ];\n\n  private _skipLinksLabelAttributeName = 'skip-links-label';\n  \n  @property({ type: Boolean, reflect: true, attribute: 'nolinks' }) _noLinks: boolean = false;\n  @property({ type: Array }) _targets: Target[] = [];\n\n  connectedCallback() {\n    super.connectedCallback()\n    if (document.readyState === \"complete\" || (document.readyState !== \"loading\")) {\n      this._init();\n    } else {\n      document.addEventListener(\"DOMContentLoaded\", this._init);\n    }\n  }\n\n  _init() {\n    const possibleTargets = document.querySelectorAll(`[${this._skipLinksLabelAttributeName}]`) as NodeListOf<HTMLElement>;\n    possibleTargets.forEach((possibleTarget) => {\n      const targetId = possibleTarget.id || null;\n      const targetLabel = possibleTarget.getAttribute(this._skipLinksLabelAttributeName) || null;\n\n      if (!targetId || !targetLabel) {\n        console.error('SKIP-LINKS: target element does not have all required attributes (id and skip-link-label)');\n        return;\n      } else {\n        const newTarget: Target = {\n          element: possibleTarget,\n          id: targetId,\n          label: targetLabel\n        }\n        this._targets.push(newTarget);\n      }\n    })\n\n    this.setAttribute('role', 'navigation');\n    this._noLinks = !this._targets || !this._targets.length;\n  }\n\n  render() {\n    if (this._targets.length > 0) {\n      return html`\n        <ul>\n          ${this._targets.map((target) => {\n            return html`\n              <li>\n                <a href=\"#${target.id}\" @click=\"${this._handleLinkClick}\">${target.label}</a>\n              </li>\n            `\n          })}\n        </ul>\n      `\n    }\n  }\n\n  _handleLinkClick(event: PointerEvent) {\n    console.log('link click', event);\n  }\n}\n"]}